<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ej 2 - PROMESAS </title>
</head>
<body>
    <h2>Temporizador</h2>
    <label for="segundos">Ingrese segundos: </label>
    <input type="number" id="segundos" placeholder"0">
    <button id="btnIniciar">Iniciar</button>
    <p id="mensaje"></p>

    <script>
        const iniciarTemporizador = (segundos) => {
            return new Promise((resolve, reject) => {
                if(isNaN(segundos) || segundos<=0){
                    reject("Error: Ingrese un número válido");
                } else{
                    setTimeout(() => {
                        resolve("Temporizador finalizado");
                    }, segundos * 1000);
                }
            });
        }
        const inputSegundos = document.getElementById("segundos");
        const btniniciar = document.getElementById("btnIniciar");
        const mensaje = document.getElementById('mensaje');

        btniniciar.addEventListener("click", () =>{
            let segundos = parseInt(inputSegundos.value);
            mensaje.textContent = "Iniciando Temporizador...";
            mensaje.className = "";

            iniciarTemporizador(segundos)
                .then(resultado =>{
                    mensaje.textContent = resultado
                    mensaje.className = "exito";
                })
                .catch((error => {
                    mensaje.textContent = error;
                    mensaje.className ="error";
                }));
        });
                
    </script>
</body>
</html>